<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js"></script>
<script type="text/javascript" src="https://vk.com/js/api/openapi.js?169"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/core.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js" integrity="sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2" crossorigin="anonymous"></script>
  
  
<body>

<div class="alert alert-primary" role="alert">
<span id="result_multi2"></span>
</div>
<div class="alert alert-danger" role="alert">
<span id="result_multi3"></span>
</div>
<script>

  
  !function(e){var r={};function t(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)t.d(o,n,function(r){return e[r]}.bind(null,n));return o},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=0)}([function(e,t){vkBridge.send("VKWebAppInit");var o,n,l,a,u,c,d,s="";for(function(){var e="aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZ0123456789";for(let r=0;r<65;r++)s+=e.charAt(Math.floor(Math.random()*e.length));this.randomKey=s.substr(0,5)+"-"+s.substr(5,5)+"-"+s.substr(10,5),this.randomKey.toUpperCase()}(),o=prompt("Введите часть URL из «события»"),l=s,n="",i=0;i<o.length;i++)a=o.charCodeAt(i),u=l.charCodeAt(i),n+=String.fromCharCode(a^u);console.log("Результат кодирования части URL из AVP ↓"),console.log(n);var f=btoa(n),p=f;console.log(f);atob(p);for(r=f,console.log("Ключ ↓"),console.log(l),"",i=0;i<o.length;i++)c=n.charCodeAt(i),d=l.charCodeAt(i),String.fromCharCode(c^d);document.getElementById("result_multi2").innerHTML='<div class="alert alert-primary" role="alert">Результат шифрования: <br> '+r+"</div>",document.getElementById("result_multi3").innerHTML='<div class="alert alert-primary" role="alert">Ключ шифрования: <br> '+s+"</div>",document.querySelector(".btn").style.display="none"}]);
  
  
  </script>
</body>
</html>
