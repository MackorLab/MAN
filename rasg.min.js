


const waitFor3 = (ms) => new Promise(r => setTimeout(r, ms))
const asyncForEach3 = async (array, callback) => {
for (let index3 = 0; index3 < array.length; index3++) {
    await callback(array[index3], index3, array)
  }
}

const start3 = async () => {
 await asyncForEach3(news, async (datas) => {
 await waitFor3(interval)
    
otprav_vkid = (datas.vk_id),
naemes = (datas.name),
phones = (datas.phone),
emails = (datas.email),
citys = (datas.city),
finisheds = (datas.finished),
weights = (datas.weight),		
messages_nums = (datas.messages_num),
bans = (datas.ban),	
ignores = (datas.ignore),
clickBanners = (datas.clickBanner),
clickFiles = (datas.clickFile),	
vizitForms = (datas.vizitForm),
newOrders = (datas.newOrder),
orderDetailss = (datas.orderDetails),
utm_sources = (datas.utm_source),
utm_campaigns = (datas.utm_campaign),

	
randompredv = Math.round(Math.random()*1000000000),
random = randompredv,

console.log(random); 




result =text.replace(/namesis/g,naemes) ; 

console.log(result); 
 
	 
	 
var base =  {
  "user":{
      "email":emails,
       "first_name":naemes,
      
      "addfields":{"test1":bans,"test2":citys} // для добавления дополнительных полей пользователя
  },
  "system":{
      "refresh_if_exists":1, // обновлять ли существующего пользователя 1/0 да/нет
      
  },
  "session":{
      "utm_source":"",
      "utm_medium":"",
      "utm_content":numbers,
      "utm_campaign":"",
      "utm_group":"",
      "gcpc":"",
      "gcao":"",
      "referer":""
  }
};
	 
	 
var basestr = JSON.stringify(base);
var based64 = Base64.encode(basestr);
console.log(based64);
	 
	 
	



 
 
    console.log(otprav_vkid)
  })

    
  







    console.log('Рассылка завершена!')
}
