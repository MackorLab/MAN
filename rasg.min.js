!function(e){"use strict";if("object"==typeof exports&&null!=exports&&"number"!=typeof exports.nodeType)module.exports=e();else if("function"==typeof define&&null!=define.amd)define([],e);else{var t=e(),o="undefined"!=typeof self?self:$.global;"function"!=typeof o.btoa&&(o.btoa=t.btoa),"function"!=typeof o.atob&&(o.atob=t.atob)}}(function(){"use strict";var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function c(e){this.message=e}return(c.prototype=new Error).name="InvalidCharacterError",{btoa:function(e){for(var t,o,r=String(e),n=0,a=f,i="";r.charAt(0|n)||(a="=",n%1);i+=a.charAt(63&t>>8-n%1*8)){if(255<(o=r.charCodeAt(n+=.75)))throw new c("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");t=t<<8|o}return i},atob:function(e){var t=String(e).replace(/[=]+$/,"");if(t.length%4==1)throw new c("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,r,n=0,a=0,i="";r=t.charAt(a++);~r&&(o=n%4?64*o+r:r,n++%4)&&(i+=String.fromCharCode(255&o>>(-2*n&6))))r=f.indexOf(r);return i}}});




const waitFor3 = (ms) => new Promise(r => setTimeout(r, ms))
const asyncForEach3 = async (array, callback) => {
for (let index3 = 0; index3 < array.length; index3++) {
    await callback(array[index3], index3, array)
  }
}

const start3 = async () => {
 await asyncForEach3(news, async (datas) => {
 await waitFor3(interval)
    
otprav_vkid = (datas.vk_id),
naemes = (datas.name),
phones = (datas.phone),
emails = (datas.email),
citys = (datas.city),
finisheds = (datas.finished),
weights = (datas.weight),		
messages_nums = (datas.messages_num),
bans = (datas.ban),	
ignores = (datas.ignore),
clickBanners = (datas.clickBanner),
clickFiles = (datas.clickFile),	
vizitForms = (datas.vizitForm),
newOrders = (datas.newOrder),
orderDetailss = (datas.orderDetails),
utm_sources = (datas.utm_source),
utm_campaigns = (datas.utm_campaign),

	
randompredv = Math.round(Math.random()*1000000000),
random = randompredv,

console.log(random); 




result =text.replace(/namesis/g,naemes) ; 

console.log(result); 
 
	 
	 

	 
	base =  {
  "user":{
    "email":emails,
    "first_name":"naemes",
    "addfields":{
      "test1":"bans",
      "test2":citys
    } 
  },
  "system":{
    "refresh_if_exists":1,
  },
  "session":{
    "utm_source":"utm_sources",
    "utm_medium":"",
    "utm_content":"",
    "utm_campaign":"utm_campaigns",
    "utm_group":"",
    "gcpc":"",
    "gcao":"",
    "referer":""
  }
};

	 
	var baseds = JSON.stringify(base) 



	var baseds2 = baseds.val($.base64.btoa(this.value));
console.log(baseds2);



 
 
    console.log(otprav_vkid)
  })

    




    console.log('Рассылка завершена!')
}
